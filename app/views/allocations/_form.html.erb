
<%= f.hidden_field :id if defined? acquisition %>

<div class="row">
  <div class="col">
    <%= f.input :date, label: "Data", as: :string, input_html: {value: localize(f.object.date)} %>
    <%= f.association :origin, label: "Origem dos items" unless defined? acquisition %>
  </div>

  <div class="col">
    <%= f.submit "Salvar", class: "btn btn-primary btn-block mt-4" unless defined? acquisition%>
    <%= f.association :destination, label: "Destino dos items", wrapper_html: {class: "mt-3"} %>
  </div>
</div>

<div class="row">
  <div class="col">
    <%= f.input :reason, label: "Motivo desta operação" %>
  </div>
</div>

<div class="d-flex justify-content-around">
  <%= link_to_add_association fa_icon(:plus, text: "Monitor"), f, :items, class: "btn btn-secondary btn-block m-0 mx-1", "data-association-insertion-node" => "#insertionPoint", :render_options => {:locals => {:type => 'Screen' }} if defined? acquisition %>
  <%= link_to_add_association fa_icon(:plus, text: "Computador"), f, :items, class: "btn btn-secondary btn-block m-0 mx-1", "data-association-insertion-node" => "#insertionPoint", :render_options => {:locals => {:type => 'Computer' }} if defined? acquisition %>
  <%= link_to_add_association fa_icon(:plus, text: "Impressora"), f, :items, class: "btn btn-secondary btn-block m-0 mx-1", "data-association-insertion-node" => "#insertionPoint", :render_options => {:locals => {:type => 'Printer' }} if defined? acquisition%>
  <%= link_to_add_association fa_icon(:plus, text: "Plaqueta"), f, :items, class: "btn btn-secondary btn-block m-0 mx-1", "data-association-insertion-node" => "#insertionPoint" unless defined? acquisition %>
  <%= link_to_add_association fa_icon(:plus, text: "Outros"), f, :stock_item_groups, class: "btn btn-secondary btn-block m-0 mx-1", "data-association-insertion-node" => "#insertionPoint", partial: "stock_items/group_partial" %>
</div>

<div class="d-flex justify-content-around flex-wrap">
  <div id="insertionPoint" hidden></div>
  <%= f.simple_fields_for :items do |f2| %>
    <%= render "item_fields", :f => f2, :type => f2.object.parkable_item_type %>
  <% end %>
  <%= f.simple_fields_for :stock_item_groups do |f2| %>
    <%= render "stock_items/group_partial", :f => f2 %>
  <% end %>
</div>
